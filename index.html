<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Primeira Hora ‚Äî Not√≠cias de Delmiro Gouveia e regi√£o</title>
  <meta name="description" content="Portal de not√≠cias locais de Delmiro Gouveia (AL) e Sert√£o do S√£o Francisco, com foco em agilidade e verifica√ß√£o." />
  <meta name="theme-color" content="#0f172a" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <!-- Open Graph / Twitter -->
  <meta property="og:title" content="Primeira Hora" />
  <meta property="og:description" content="Not√≠cias de Delmiro Gouveia e regi√£o." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="/og-image.jpg" />
  <meta name="twitter:card" content="summary_large_image" />
  <!-- Favicon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256'><rect width='256' height='256' rx='56' fill='%230f172a'/><text x='50%' y='54%' text-anchor='middle' font-size='120' fill='%23fff' font-family='Arial'>1H</text></svg>">
  <style>
    :root{
      --bg:#0b1020;--card:#0f172a;--text:#e5e7eb;--muted:#94a3b8;--brand:#22c55e;--brand-2:#14b8a6;--stroke:#1f2a44;--accent:#f59e0b;--danger:#ef4444;--ok:#22c55e;
      --max:1200px
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;background:var(--bg);color:var(--text)}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}
    .container{max-width:var(--max);margin:0 auto;padding:16px}
    header{position:sticky;top:0;z-index:50;background:linear-gradient(180deg,rgba(11,16,32,.95),rgba(11,16,32,.85) 60%,rgba(11,16,32,0));backdrop-filter:saturate(140%) blur(6px);border-bottom:1px solid var(--stroke)}
    .topbar{display:flex;gap:12px;align-items:center;justify-content:space-between;padding:14px 0}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800;letter-spacing:.5px}
    .brand .logo{width:36px;height:36px;border-radius:10px;background:linear-gradient(135deg,var(--brand),var(--brand-2));display:grid;place-items:center;color:#0b1020;font-weight:900}
    .brand span{font-size:20px}
    nav{display:flex;flex-wrap:wrap;gap:8px}
    .chip{padding:8px 12px;border:1px solid var(--stroke);border-radius:999px;color:var(--muted);cursor:pointer;transition:.2s}
    .chip.active,.chip:hover{color:#0b1020;background:linear-gradient(135deg,var(--brand),var(--brand-2));border-color:transparent}
    .actions{display:flex;gap:8px;align-items:center}
    .search{display:flex;align-items:center;gap:8px;background:#0b1328;border:1px solid var(--stroke);border-radius:12px;padding:8px 12px}
    .search input{all:unset;width:200px;color:var(--text)}
    .btn{padding:10px 14px;border-radius:12px;border:1px solid var(--stroke);background:#0c142c;color:var(--text);cursor:pointer}
    .btn.primary{background:linear-gradient(135deg,var(--brand),var(--brand-2));color:#0b1020;border-color:transparent;font-weight:700}
    .grid{display:grid;gap:16px}
    @media(min-width:900px){.grid{grid-template-columns:2fr 1fr}}
    .card{background:linear-gradient(180deg,#0f172a,#0e1427);border:1px solid var(--stroke);border-radius:16px;overflow:hidden}
    .card .content{padding:14px 16px}
    .meta{display:flex;gap:10px;align-items:center;color:var(--muted);font-size:12px}
    .title{font-size:18px;font-weight:800;line-height:1.2;margin:8px 0 6px}
    .lead .title{font-size:28px}
    .desc{color:#cbd5e1;font-size:14px}
    .row{display:grid;gap:16px}
    @media(min-width:700px){.row{grid-template-columns:repeat(3,1fr)}}
    .sidebar{display:grid;gap:16px}
    .badge{font-size:11px;padding:2px 8px;border-radius:999px;border:1px solid var(--stroke);color:var(--muted)}
    footer{border-top:1px solid var(--stroke);margin-top:24px}
    .footgrid{display:grid;gap:16px}
    @media(min-width:800px){.footgrid{grid-template-columns:2fr 1fr 1fr}}
    .muted{color:var(--muted)}
    .ad{background:#0b1328;border:1px dashed var(--stroke);border-radius:14px;padding:18px;text-align:center;color:var(--muted)}
    .toolbar{display:flex;gap:10px;align-items:center}
    .toggle{width:40px;height:26px;background:#0b1328;border:1px solid var(--stroke);border-radius:999px;position:relative;cursor:pointer}
    .toggle::after{content:"";position:absolute;top:3px;left:3px;width:20px;height:20px;border-radius:50%;background:linear-gradient(135deg,var(--brand),var(--brand-2));transition:.2s}
    body.light{--bg:#f7fafc;--card:#ffffff;--text:#0f172a;--muted:#475569;--stroke:#e2e8f0}
    body.light header{background:linear-gradient(180deg,rgba(247,250,252,.95),rgba(247,250,252,.85) 60%,rgba(247,250,252,0))}
    body.light .search{background:#fff}
    body.light .btn{background:#fff}
    body.light .toggle::after{left:17px}
    dialog{width:min(860px,95vw);border:none;border-radius:16px;padding:0;overflow:hidden;background:var(--card);color:var(--text);border:1px solid var(--stroke)}
    dialog::backdrop{background:rgba(0,0,0,.6)}
    .article{padding:20px}
    .article h1{margin:8px 0 10px;font-size:28px}
    .article .article-meta{color:var(--muted);font-size:13px}
    .close{position:absolute;top:10px;right:12px;background:#0b1328;border:1px solid var(--stroke);border-radius:10px;padding:6px 10px;cursor:pointer}
    .alert{padding:10px 12px;border-radius:12px;border:1px solid var(--stroke);background:#0b1328;color:#e2e8f0}
    .alert.ok{border-color:rgba(34,197,94,.35)}
  </style>
</head>
<body>
  <header>
    <div class="container topbar">
      <div class="brand">
        <div class="logo">1H</div>
        <span>Primeira Hora</span>
        <span class="badge" id="edition">Edi√ß√£o ‚Ä¢ Delmiro Gouveia</span>
      </div>
      <nav id="cats">
        <button class="chip active" data-cat="todas">Todas</button>
        <button class="chip" data-cat="delmiro">Delmiro Gouveia</button>
        <button class="chip" data-cat="alagoas">Alagoas</button>
        <button class="chip" data-cat="sertao">Sert√£o</button>
        <button class="chip" data-cat="policia">Pol√≠cia</button>
        <button class="chip" data-cat="politica">Pol√≠tica</button>
        <button class="chip" data-cat="economia">Economia</button>
        <button class="chip" data-cat="esportes">Esportes</button>
        <button class="chip" data-cat="cultura">Cultura</button>
      </nav>
      <div class="actions">
        <div class="search">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21 21L15.8 15.8M18 10.5C18 14.09 15.09 17 11.5 17C7.91 17 5 14.09 5 10.5C5 6.91 7.91 4 11.5 4C15.09 4 18 6.91 18 10.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
          <input id="q" placeholder="Buscar‚Ä¶" aria-label="Buscar" />
        </div>
        <div class="toolbar">
          <div class="toggle" id="themeToggle" title="Alternar tema"></div>
          <button class="btn" id="rssBtn">RSS</button>
          <button class="btn primary" id="anuncieBtn">Anuncie</button>
        </div>
      </div>
    </div>
  </header>

  <main class="container" id="main">
    <section class="grid" aria-label="Destaques">
      <article class="card lead" data-cat="delmiro" data-title="Bem-vindo ao Primeira Hora" data-date="">
        <img src="https://images.unsplash.com/photo-1508873699372-7aeab60b44ab?q=80&w=1600&auto=format&fit=crop" alt="Cidade e manchete" />
        <div class="content">
          <div class="meta"><span class="badge">Delmiro Gouveia</span><span>‚Ä¢</span><time id="leadTime"></time></div>
          <h2 class="title">Seu portal de not√≠cias de Delmiro Gouveia e regi√£o</h2>
          <p class="desc">Atualize as mat√©rias no arquivo <strong>data/posts.json</strong> e publique pelo GitHub Pages.</p>
        </div>
      </article>
      <aside class="sidebar">
        <div class="card ad"><strong>Espa√ßo para an√∫ncio</strong><br>300√ó250 ‚Ä¢ Comercial: comercial@primeirahora.al</div>
        <div class="card">
          <div class="content">
            <h3 style="margin:0 0 8px">Assine nossa newsletter</h3>
            <p class="muted" style="margin:0 0 12px">Receba o resumo di√°rio √†s 7h.</p>
            <form id="newsForm" class="row" style="grid-template-columns:1fr auto">
              <input id="email" placeholder="seu@email.com" aria-label="Email" style="padding:10px 12px;border-radius:12px;border:1px solid var(--stroke);background:#0b1328;color:#0f172a">
              <button class="btn primary" type="submit">Quero receber</button>
            </form>
            <p id="newsMsg" class="alert ok" style="display:none;margin-top:10px">Inscri√ß√£o realizada! Confira seu e-mail üëç</p>
          </div>
        </div>
        <div class="card">
          <div class="content">
            <h3 style="margin:0 0 8px">Reda√ß√£o</h3>
            <p class="muted">Envie pautas: <a href="mailto:redacao@primeirahora.al">redacao@primeirahora.al</a></p>
          </div>
        </div>
      </aside>
    </section>

    <section style="margin-top:18px">
      <div class="row" id="feed">
        <!-- Cards gerados por JS abaixo -->
      </div>
    </section>
  </main>

  <footer class="container" style="padding:20px 0 40px">
    <div class="footgrid">
      <div>
        <div class="brand" style="margin-bottom:8px"><div class="logo">1H</div><span>Primeira Hora</span></div>
        <p class="muted">¬© <span id="year"></span> Primeira Hora. Todos os direitos reservados.</p>
        <p class="muted">Pol√≠tica editorial ‚Ä¢ Privacidade ‚Ä¢ Termos</p>
      </div>
      <div>
        <h4 style="margin:6px 0 8px">Contato</h4>
        <p class="muted">Comercial: <a href="mailto:comercial@primeirahora.al">comercial@primeirahora.al</a><br>Reda√ß√£o: <a href="mailto:redacao@primeirahora.al">redacao@primeirahora.al</a></p>
      </div>
      <div>
        <h4 style="margin:6px 0 8px">Siga</h4>
        <p class="muted"><a href="#">Instagram</a> ‚Ä¢ <a href="#">Facebook</a> ‚Ä¢ <a href="#">YouTube</a></p>
      </div>
    </div>
  </footer>

  <dialog id="articleModal">
    <button class="close" id="closeModal">Fechar</button>
    <img id="articleImg" alt="" />
    <div class="article">
      <h1 id="articleTitle"></h1>
      <div class="article-meta" id="articleMeta"></div>
      <div id="articleBody" style="margin-top:12px;line-height:1.6"></div>
    </div>
  </dialog>

  <script>
    // Dados via JSON externo
    let posts = [];
    const feed = document.querySelector('#feed');
    const q = document.querySelector('#q');
    const chips = document.querySelectorAll('.chip');
    const edition = document.querySelector('#edition');
    const year = document.querySelector('#year');
    const leadTime = document.querySelector('#leadTime');

    year.textContent = new Date().getFullYear();
    leadTime.textContent = new Date().toLocaleString('pt-BR',{day:'2-digit',month:'2-digit',year:'numeric',hour:'2-digit',minute:'2-digit'});

    function formatDate(iso){
      const d = new Date(iso);
      return d.toLocaleString('pt-BR',{day:'2-digit',month:'2-digit',year:'numeric',hour:'2-digit',minute:'2-digit'});
    }

    function render(list){
      feed.innerHTML = '';
      list.sort((a,b)=> new Date(b.dt)-new Date(a.dt));
      list.forEach(p=>{
        const card = document.createElement('article');
        card.className = 'card';
        card.dataset.cat = p.cat;
        card.dataset.title = p.title.toLowerCase();
        card.innerHTML = `
          <img src="${p.img}" alt="${p.title}">
          <div class="content">
            <div class="meta"><span class="badge">${p.cat[0].toUpperCase()+p.cat.slice(1)}</span><span>‚Ä¢</span><time>${formatDate(p.dt)}</time></div>
            <h3 class="title">${p.title}</h3>
            <p class="desc">${p.excerpt}</p>
          </div>`;
        card.addEventListener('click',()=>openArticle(p));
        feed.appendChild(card);
      })
    }

    function applyFilters(){
      const active = document.querySelector('.chip.active')?.dataset.cat || 'todas';
      const term = (q.value||'').toLowerCase().trim();
      const filtered = posts.filter(p=> (active==='todas' || p.cat===active) && (p.title.toLowerCase().includes(term) || p.excerpt.toLowerCase().includes(term)));
      render(filtered);
    }

    chips.forEach(c=> c.addEventListener('click',()=>{
      chips.forEach(x=>x.classList.remove('active'));
      c.classList.add('active');
      applyFilters();
    }))
    q.addEventListener('input', applyFilters);

    const modal = document.querySelector('#articleModal');
    const articleTitle = document.querySelector('#articleTitle');
    const articleMeta = document.querySelector('#articleMeta');
    const articleBody = document.querySelector('#articleBody');
    const articleImg = document.querySelector('#articleImg');
    const closeModal = document.querySelector('#closeModal');

    function openArticle(p){
      articleTitle.textContent = p.title;
      articleMeta.textContent = `${p.cat.toUpperCase()} ‚Ä¢ ${formatDate(p.dt)}`;
      articleBody.innerHTML = `<p>${p.body}</p>`;
      articleImg.src = p.img; articleImg.alt = p.title;
      modal.showModal();
    }
    closeModal.addEventListener('click',()=>modal.close());

    // Newsletter fake
    const newsForm = document.querySelector('#newsForm');
    const newsMsg = document.querySelector('#newsMsg');
    newsForm.addEventListener('submit', (e)=>{
      e.preventDefault();
      newsMsg.style.display='block';
      newsForm.reset();
    });

    // Tema
    const themeToggle = document.querySelector('#themeToggle');
    const savedTheme = localStorage.getItem('theme')||'dark';
    if(savedTheme==='light') document.body.classList.add('light');
    themeToggle.addEventListener('click', ()=>{
      document.body.classList.toggle('light');
      localStorage.setItem('theme', document.body.classList.contains('light')?'light':'dark');
    })

    // Edi√ß√£o (data de hoje)
    const now = new Date();
    edition.textContent = `Edi√ß√£o ‚Ä¢ Delmiro Gouveia ‚Ä¢ ${now.toLocaleDateString('pt-BR',{day:'2-digit',month:'short',year:'numeric'})}`;

    // Carrega JSON
    async function loadPosts(){
      try{
        const res = await fetch('./data/posts.json', {cache:'no-store'});
        posts = await res.json();
      }catch(e){
        console.warn('Sem posts.json, usando exemplo.', e);
        posts = [{
          id:101, cat:'delmiro',
          title:'Prefeitura anuncia mutir√£o de limpeza em bairros centrais',
          dt:'2025-10-06T08:10:00-03:00',
          img:'https://images.unsplash.com/photo-1508873699372-7aeab60b44ab?q=80&w=1600&auto=format&fit=crop',
          excerpt:'A√ß√£o envolve 80 servidores e coleta de entulhos em cinco frentes.',
          body:'O cronograma divulgado prev√™ passagem pelas √°reas com maior ac√∫mulo de res√≠duos e orienta√ß√£o porta a porta.'
        }];
      }
      render(posts);
    }
    loadPosts();

    // A√ß√µes simples
    document.querySelector('#rssBtn').addEventListener('click',()=>window.open('./rss.xml','_blank'));
    document.querySelector('#anuncieBtn').addEventListener('click',()=>location.href='mailto:comercial@primeirahora.al'));
  </script>
</body>
</html>
